const _0x17f922=_0x47ee;(function(_0x27be39,_0x45c58a){const _0x3cc9e9=_0x47ee,_0x556882=_0x27be39();while(!![]){try{const _0x1cab0b=parseInt(_0x3cc9e9(0xc3))/0x1+-parseInt(_0x3cc9e9(0xb4))/0x2+-parseInt(_0x3cc9e9(0x9b))/0x3*(-parseInt(_0x3cc9e9(0xbe))/0x4)+parseInt(_0x3cc9e9(0xbd))/0x5+parseInt(_0x3cc9e9(0xa6))/0x6*(-parseInt(_0x3cc9e9(0xb2))/0x7)+parseInt(_0x3cc9e9(0xc4))/0x8+parseInt(_0x3cc9e9(0xaa))/0x9;if(_0x1cab0b===_0x45c58a)break;else _0x556882['push'](_0x556882['shift']());}catch(_0x55ab00){_0x556882['push'](_0x556882['shift']());}}}(_0x30e0,0xba427));import{ethers}from'ethers';function _0x47ee(_0x564507,_0x144f25){const _0x30e067=_0x30e0();return _0x47ee=function(_0x47ee29,_0x5188af){_0x47ee29=_0x47ee29-0x90;let _0xfdfdf2=_0x30e067[_0x47ee29];return _0xfdfdf2;},_0x47ee(_0x564507,_0x144f25);}import{privateKey}from'../../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import _0x1563c0 from'../utils/logger.js';import{RPC}from'./network/rpc.js';import{Config}from'../../../config/config.js';function _0x30e0(){const _0x3821a4=['...\x20Attempt\x20','\x20of\x20','173646XRxkSl','formatEther','getBalance','Account\x20Type\x20:\x20','CHAINID','0.1','stringify','rawTx','28zBDbuJ','wallet','2983526QIAcJI','RPCURL','\x20attempts.','BRIDGEAMOUNT','estimateGas','sendTransaction','hash','Balance\x20updated','acc','3149545txRiGW','2494280fENort','fromPhrase','TX\x20DATA\x20','parseUnits','ARB','416560jWkPrv','2001144fEiAWd','balance','Wallet\x20connected\x20','tx/','info','Wallet','EXPLORER','Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key','\x20TX','OPTOARBRAWDATA','pending','wait','ARBTOOPBRIDGECONTRACT','executeTx','Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...','Secret\x20Phrase','getTransactionCount','includes','Executing\x20TX...','parseEther','trim','shortMessage','address','getOptimalNonce','Tx\x20Confirmed\x20and\x20Finalizing:\x20','message','serializeBigInt','6OLKWXP','ARBTOOPRAWDATA','Estimating\x20Gas\x20for\x20','Tx\x20Executed\x20\x0a','provider','estimateGasWithRetry','delay','network','JsonRpcProvider','gwei','Private\x20Key','462546BKJFqs','Getting\x20Wallet\x20Balance\x20of\x20'];_0x30e0=function(){return _0x3821a4;};return _0x30e0();}export default class Core{constructor(_0x26ef09){const _0x33014b=_0x47ee;this['acc']=_0x26ef09,this[_0x33014b(0x9f)]=new ethers[(_0x33014b(0xa3))](RPC[_0x33014b(0xb5)],RPC[_0x33014b(0xae)]);}async['connectWallet'](){const _0x117ce9=_0x47ee;try{const _0x29737b=this[_0x117ce9(0xbc)],_0x50b5e8=privateKey['indexOf'](this[_0x117ce9(0xbc)]);await Helper[_0x117ce9(0xa1)](0x3e8,this[_0x117ce9(0xbc)],'Connecting\x20to\x20Account\x20:\x20'+(_0x50b5e8+0x1),this);const _0x15ee41=Helper['determineType'](_0x29737b);_0x1563c0[_0x117ce9(0xc8)](_0x117ce9(0xad)+_0x15ee41);if(_0x15ee41==_0x117ce9(0xd3))this['wallet']=new ethers['Wallet'][(_0x117ce9(0xbf))](_0x29737b,this[_0x117ce9(0x9f)]);else{if(_0x15ee41==_0x117ce9(0xa5))this[_0x117ce9(0xb3)]=new ethers[(_0x117ce9(0xc9))](_0x29737b[_0x117ce9(0x94)](),this['provider']);else throw Error(_0x117ce9(0xcb));}this[_0x117ce9(0x96)]=this[_0x117ce9(0xb3)]['address'],await Helper[_0x117ce9(0xa1)](0x3e8,this[_0x117ce9(0xbc)],_0x117ce9(0xc6)+JSON[_0x117ce9(0xb0)](this[_0x117ce9(0xb3)][_0x117ce9(0x96)]),this);}catch(_0x1a2262){throw _0x1a2262;}}async[_0x17f922(0xac)](_0x2ea976=![]){const _0x1deb19=_0x17f922;try{!_0x2ea976&&await Helper[_0x1deb19(0xa1)](0x1f4,this[_0x1deb19(0xbc)],_0x1deb19(0xa7)+this[_0x1deb19(0xb3)][_0x1deb19(0x96)],this);const _0x1442c8=ethers[_0x1deb19(0xab)](await this[_0x1deb19(0x9f)][_0x1deb19(0xac)](this[_0x1deb19(0xb3)][_0x1deb19(0x96)]));this[_0x1deb19(0xc5)]={'ETH':_0x1442c8},await Helper[_0x1deb19(0xa1)](0x1f4,this['acc'],_0x1deb19(0xbb),this);}catch(_0x3fbbc4){throw _0x3fbbc4;}}async[_0x17f922(0xb1)](){const _0x376a14=_0x17f922;try{await Helper['delay'](0x1f4,this[_0x376a14(0xbc)],'Try\x20To\x20Executing\x20RAW\x20Transaction',this);const _0x405918=Config[_0x376a14(0xa2)]==_0x376a14(0xc2)?Config[_0x376a14(0xd0)]:Config['OPTOARBBRIDGECONTRACT'],_0x5813ac=ethers[_0x376a14(0x93)](Config[_0x376a14(0xb7)]),_0x10a9b9=Config[_0x376a14(0xa2)]==_0x376a14(0xc2)?Config[_0x376a14(0x9c)]:Config[_0x376a14(0xcd)],_0x1481ba=await this[_0x376a14(0x97)](),_0x2bd47e=await this['estimateGasWithRetry'](_0x405918,_0x5813ac,_0x10a9b9,0x3,0x3e8),_0x33fd09={'to':_0x405918,'value':_0x5813ac,'gasLimit':_0x2bd47e,'gasPrice':ethers[_0x376a14(0xc1)](_0x376a14(0xaf),_0x376a14(0xa4)),'nonce':_0x1481ba,'data':_0x10a9b9};await this['executeTx'](_0x33fd09);}catch(_0x2b9a2b){throw _0x2b9a2b;}}async[_0x17f922(0xd1)](_0x4db2c2){const _0x3bcbad=_0x17f922;try{_0x1563c0[_0x3bcbad(0xc8)](_0x3bcbad(0xc0)+JSON['stringify'](Helper[_0x3bcbad(0x9a)](_0x4db2c2))),await Helper[_0x3bcbad(0xa1)](0x1f4,this['acc'],_0x3bcbad(0x92),this);const _0xc2f704=await this['wallet'][_0x3bcbad(0xb9)](_0x4db2c2);await Helper[_0x3bcbad(0xa1)](0x1f4,this[_0x3bcbad(0xbc)],_0x3bcbad(0xd2),this);const _0x2212f9=await _0xc2f704[_0x3bcbad(0xcf)]();_0x1563c0[_0x3bcbad(0xc8)](_0x3bcbad(0x98)+JSON[_0x3bcbad(0xb0)](_0x2212f9)),await Helper[_0x3bcbad(0xa1)](0x1388,this['acc'],_0x3bcbad(0x9e)+RPC[_0x3bcbad(0xca)]+_0x3bcbad(0xc7)+_0x2212f9[_0x3bcbad(0xba)],this),await this[_0x3bcbad(0xac)](!![]);}catch(_0x45d1ce){if(_0x45d1ce['message'][_0x3bcbad(0x91)]('504'))await Helper[_0x3bcbad(0xa1)](0x1388,this[_0x3bcbad(0xbc)],_0x45d1ce[_0x3bcbad(0x99)],this);else throw _0x45d1ce;}}async[_0x17f922(0x97)](){const _0x3ccd32=_0x17f922;try{const _0x51696e=await this[_0x3ccd32(0x9f)][_0x3ccd32(0x90)](this['wallet']['address'],'latest'),_0x56818b=await this[_0x3ccd32(0x9f)][_0x3ccd32(0x90)](this[_0x3ccd32(0xb3)][_0x3ccd32(0x96)],_0x3ccd32(0xce)),_0x4f136b=_0x56818b>_0x51696e?_0x56818b:_0x51696e;return _0x4f136b;}catch(_0x11ae5e){throw _0x11ae5e;}}async[_0x17f922(0xa0)](_0x482462,_0xc0480b,_0x4bacf4,_0x28951f=0x3,_0x1d24d5=0xbb8){const _0x450f8b=_0x17f922;for(let _0x5d5ec5=0x0;_0x5d5ec5<_0x28951f;_0x5d5ec5++){try{_0x1563c0[_0x450f8b(0xc8)](_0x450f8b(0x9d)+_0x4bacf4+_0x450f8b(0xcc));const _0xa122f6=await this[_0x450f8b(0x9f)][_0x450f8b(0xb8)]({'from':this['wallet'][_0x450f8b(0x96)],'to':_0x482462,'value':_0xc0480b,'data':_0x4bacf4});return _0xa122f6;}catch(_0x3cabbb){await Helper['delay'](_0x1d24d5,this[_0x450f8b(0xbc)],_0x3cabbb[_0x450f8b(0x95)]+_0x450f8b(0xa8)+(_0x5d5ec5+0x1)+_0x450f8b(0xa9)+_0x28951f,this);if(_0x5d5ec5===_0x28951f-0x1)throw Error('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x28951f+_0x450f8b(0xb6));}}}}
